### **ä¸€é”®å®‰è£…å‘½ä»¤**

```
wget -qO- https://raw.githubusercontent.com/fajro86/docker/refs/heads/main/install_docker | bash
```

### **å®‰è£…åæ£€æŸ¥**

å¦‚æœä½ æ˜¯ **root** ç”¨æˆ·ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼š

```
docker info | grep 'Docker Root Dir'
```

å¦‚æœæ˜¯ **é root ç”¨æˆ·**ï¼Œå»ºè®® **é€€å‡ºå¹¶é‡æ–°ç™»å½•**ï¼Œæˆ–è€…æ‰‹åŠ¨æ‰§è¡Œï¼š

```
newgrp docker  # è®© docker ç»„ç”Ÿæ•ˆ
```



------

### **ğŸ“‚ Docker æ•°æ®ç›®å½•ç»“æ„**

åœ¨ `/opt/MyDocker` ç›®å½•ä¸‹ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼çš„æ–‡ä»¶ç»“æ„ï¼š

```bash
/opt/MyDocker/
â”œâ”€â”€ containers/      # è¿è¡Œä¸­çš„å®¹å™¨æ•°æ®
â”œâ”€â”€ image/           # Docker é•œåƒ
â”œâ”€â”€ volumes/         # æŒä¹…åŒ–æ•°æ®å·
â”œâ”€â”€ overlay2/        # é•œåƒå’Œå®¹å™¨çš„å±‚å­˜å‚¨
â”œâ”€â”€ network/         # Docker ç½‘ç»œé…ç½®
â””â”€â”€ tmp/             # ä¸´æ—¶æ–‡ä»¶
```

------

### **ğŸ” å¦‚ä½•æ£€æŸ¥ Docker å­˜å‚¨ç›®å½•**

å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ç¡®è®¤ï¼š

```bash
docker info | grep "Docker Root Dir"
```

å®ƒåº”è¯¥è¾“å‡ºï¼š

```bash
Docker Root Dir: /opt/MyDocker
```

è¿™å°±è¡¨ç¤º **æ‰€æœ‰ Docker ç›¸å…³çš„æ•°æ®** å·²ç»æ­£ç¡®å­˜å‚¨åˆ° `/opt/MyDocker` é‡Œäº†ã€‚

------

### **ğŸ’¡ éœ€è¦åšçš„é¢å¤–ç®¡ç†**

å¦‚æœä½ æƒ³ **æ‰‹åŠ¨ç®¡ç† Docker æ•°æ®**ï¼Œå¯ä»¥ï¼š

1. **å®šæœŸå¤‡ä»½æ•´ä¸ª `/opt/MyDocker` ç›®å½•**ï¼š

   ```bash
   tar -czvf docker_backup.tar.gz /opt/MyDocker
   ```

   è¿™æ ·å¯ä»¥éšæ—¶æ¢å¤ Docker æ•°æ®ã€‚

2. **è¿ç§»åˆ°æ–°æœåŠ¡å™¨**ï¼š

   - åœ¨æ–°æœåŠ¡å™¨ä¸Š 

     è§£å‹å¤‡ä»½

     ï¼š

     ```bash
     tar -xzvf docker_backup.tar.gz -C /opt/MyDocker
     ```

   - é‡å¯ Docker

     ï¼š

     ```bash
     systemctl restart docker
     ```

3. **æ¸…ç†ä¸ç”¨çš„é•œåƒå’Œå®¹å™¨**ï¼š

   ```bash
   docker system prune -a
   ```

   è¿™æ ·å¯ä»¥èŠ‚çœ `/opt/MyDocker` ç›®å½•çš„ç©ºé—´ã€‚



### é€‚ç”¨ç¯å¢ƒ**

âœ… ä¸ªäººæœåŠ¡å™¨ï¼ˆVPSï¼‰
âœ… æ ‘è“æ´¾ï¼ˆRaspberry Piï¼‰
âœ… Debian 12 / Ubuntu / ARM è®¾å¤‡

### **æ€»ç»“**

âœ… **æ”¯æŒ `amd64`ã€`arm64`ã€`armhf` æ¶æ„**ï¼Œé€‚é… **VPSã€æ ‘è“æ´¾ã€ç‰©è”ç½‘è®¾å¤‡**
âœ… **`sudo -v` é¢„è®¤è¯ï¼Œé¿å…é¢‘ç¹è¾“å…¥å¯†ç **
âœ… **`rsync` è¿ç§» Docker æ•°æ®æ—¶æ›´é«˜æ•ˆ**ï¼Œåªåœ¨æ•°æ®ä¸åŒæ­¥æ—¶æ‰§è¡Œ
âœ… **å¦‚æœ `daemon.json` å·²æœ‰ `data-root`ï¼Œä¸é‡å¤å†™å…¥**ï¼Œé¿å…æ— æ„ä¹‰æ”¹åŠ¨
âœ… **é root ç”¨æˆ·å¯ç›´æ¥è¿è¡Œ Dockerï¼Œæ— éœ€æ¯æ¬¡åŠ  `sudo`**
âœ… **å¦‚æœ Docker æµ‹è¯•å¤±è´¥ï¼Œè‡ªåŠ¨æ‰“å°æ—¥å¿—ï¼Œæ–¹ä¾¿è°ƒè¯•**
âœ… **ä¼˜åŒ–ç»ˆç«¯è¾“å‡ºï¼Œç”¨æˆ·ä½“éªŒæ›´å‹å¥½**



